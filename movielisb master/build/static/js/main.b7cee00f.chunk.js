(this.webpackJsonpmovieslib=this.webpackJsonpmovieslib||[]).push([[0],{26:function(e,t,c){},33:function(e,t,c){},34:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),i=c(19),n=c.n(i),r=(c(26),c(8)),l=c(2),j=c(0);function d(){return Object(j.jsx)("header",{children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"inner-content",children:[Object(j.jsx)("div",{className:"brand",children:Object(j.jsx)(r.b,{to:"/",children:"V\u0130DEA"})}),Object(j.jsxs)("ul",{className:"nav-links",children:[Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{to:"/",children:"Siyah\u0131"})}),Object(j.jsx)("li",{children:Object(j.jsx)(r.b,{to:"/add",className:"btn",children:"\u018flav\u0259 et +"})})]})]})})})}var o=c(11),h=c(21),b=c(12),O=function(e,t){switch(t.type){case"ADD_MOVIE_TO_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:[t.payload].concat(Object(h.a)(e.watchlist))});case"REMOVE_MOVIE_FROM_WATCHLIST":return Object(b.a)(Object(b.a)({},e),{},{watchlist:e.watchlist.filter((function(e){return e.id!==t.payload}))});default:return e}},u={watchlist:localStorage.getItem("watchlist")?JSON.parse(localStorage.getItem("watchlist")):[]},m=Object(s.createContext)(u),x=function(e){var t=Object(s.useReducer)(O,u),c=Object(o.a)(t,2),a=c[0],i=c[1];Object(s.useEffect)((function(){localStorage.setItem("watchlist",JSON.stringify(a.watchlist))}),[a]);return Object(j.jsx)(m.Provider,{value:{watchlist:a.watchlist,addMovieToWatchlist:function(e){i({type:"ADD_MOVIE_TO_WATCHLIST",payload:e})},removeMovieFromWatchlist:function(e){i({type:"REMOVE_MOVIE_FROM_WATCHLIST",payload:e})},moveToWatchlist:function(e){i({type:"MOVE_TO_WATCHLIST",payload:e})}},children:e.children})};function v(e){var t=e.movie,c=e.type,a=Object(s.useContext)(m).removeMovieFromWatchlist;return Object(j.jsx)("div",{className:"inner-card-controls",children:"watchlist"===c&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("button",{className:"ctrl-btn",onClick:function(){return a(t.id)},children:Object(j.jsx)("i",{className:"fa-fw fa fa-times"})})})})}function p(e){var t=e.movie,c=e.type;return Object(j.jsxs)("div",{className:"movie-card",children:[Object(j.jsx)("div",{className:"overlay"}),t.poster_path?Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(j.jsx)("div",{className:"filler-poster"}),Object(j.jsx)(v,{type:c,movie:t})]})}function f(){var e=Object(s.useContext)(m).watchlist;return Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:"movie-page",children:Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h1",{className:"heading",children:"\u0130zl\u0259nil\u0259c\u0259kl\u0259r Siyah\u0131s\u0131"})}),e.length>0?Object(j.jsx)("div",{className:"movie-grid",children:e.map((function(e){return Object(j.jsx)(p,{movie:e,type:"watchlist"})}))}):Object(j.jsx)("h5",{className:"no-movies",children:"Izl\u0259nil\u0259c\u0259kl\u0259r siyah\u0131n\u0131z bo\u015fdur."})]})})})}function N(e){var t=e.movie,c=Object(s.useContext)(m),a=c.addMovieToWatchlist,i=c.watchlist.find((function(e){return e.id===t.id}));return Object(j.jsxs)("div",{className:"result-card",style:{margin:"3rem"},children:[Object(j.jsx)("div",{className:"poster-wrapper",children:t.poster_path?Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(t.poster_path),alt:"".concat(t.title," Poster")}):Object(j.jsx)("div",{className:"filler-poster"})}),Object(j.jsxs)("div",{className:"info",children:[Object(j.jsxs)("div",{className:"header",children:[Object(j.jsx)("h3",{className:"title",children:t.title}),Object(j.jsx)("h4",{className:"release-date",children:t.release_date?t.release_date.substring(0,4):"----"})]}),Object(j.jsx)("div",{className:"controls",children:Object(j.jsx)("button",{disabled:i,className:"btn",onClick:function(){return a(t)},children:"Add to Watchlist"})})]})]})}function g(){var e=Object(s.useState)(""),t=Object(o.a)(e,2),c=t[0],a=t[1],i=Object(s.useState)([]),n=Object(o.a)(i,2),r=n[0],l=n[1];return Object(j.jsx)("div",{className:"add-page",children:Object(j.jsx)("div",{className:"container",children:Object(j.jsxs)("div",{className:"add-content",children:[Object(j.jsxs)("div",{className:"input-wrapper",style:{display:"flex"},children:[Object(j.jsx)("span",{className:"btn",style:{marginRight:"-5px",cursor:"default"},children:"Axtar"}),Object(j.jsx)("input",{type:"text",className:"input-box",value:c,onChange:function(e){e.preventDefault(),a(e.target.value),fetch("https://api.themoviedb.org/3/search/movie?api_key=d0e92860093cd5a9194874ea46dbab97&language=en-US&page=1&include_adult=false&query=".concat(e.target.value)).then((function(e){return e.json()})).then((function(e){e.errors?l([]):l(e.results)}))}})]}),r.length>0&&Object(j.jsx)("ul",{className:"results",children:r.map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(N,{movie:e})},e.id)}))})]})})})}c(33);var y=function(){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(x,{children:Object(j.jsxs)(r.a,{children:[Object(j.jsx)(d,{}),Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",children:Object(j.jsx)(f,{})}),Object(j.jsx)(l.a,{path:"/add",children:Object(j.jsx)(g,{})})]})]})})})};n.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(y,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.b7cee00f.chunk.js.map